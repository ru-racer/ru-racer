# NMPC-only validation (small car) â€” generate feasible ref by simulating known open-loop u_ref, then track it.

mode=nmpc_validate
output_root=cpp/results
seed=1234

# Small car model params
dt=0.02
rewiring_value=0.05
vehicle_m=6.8
vehicle_Izz=0.15
vehicle_lf=0.15
vehicle_lr=0.25
vehicle_h=0.02
vehicle_g=9.8
tiref_B=10.275
tiref_C=1.56
tiref_D=-0.85
tirer_B=10.275
tirer_C=1.56
tirer_D=-0.79

# Start state
start_x=0.0
start_y=0.0
start_psi=0.0
start_vx=3.0
start_vy=0.0
start_r=0.0

# Control bounds
delta_max=0.3490658504
sfx_max=0.1

# Reference generator
nmpc_val_T=10.0
nmpc_val_scenarios=ref_straight,ref_constant_steer,ref_sine_steer
nmpc_val_sfx_ref=0.0
nmpc_val_delta_const=0.15
nmpc_val_delta_sine_amp=0.12
nmpc_val_delta_sine_hz=0.25

# NMPC
nmpc_horizon_steps=15
nmpc_max_iters=25
nmpc_step_size=0.5
nmpc_eps_fd=0.001
nmpc_control_hold_steps=10
nmpc_w_pos=1.0
nmpc_w_psi=0.2
nmpc_w_vx=0.2
nmpc_w_u=0.01

