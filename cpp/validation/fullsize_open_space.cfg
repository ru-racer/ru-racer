# Open-loop validation config (full-size vehicle, open space)

mode=validate
output_root=cpp/results
seed=1234

# Integration / model
dt=0.02
rewiring_value=0.20

# Vehicle constants (full size)
vehicle_m=1500.0
vehicle_Izz=2500.0
vehicle_lf=1.20
vehicle_lr=1.60
vehicle_h=0.50
vehicle_g=9.81

# Tire model (nominal; friction scaling handles road condition)
tiref_B=10.275
tiref_C=1.56
tiref_D=-0.85
tirer_B=10.275
tirer_C=1.56
tirer_D=-0.79

# Runtime-updatable friction scaling (multiplier on tire D)
friction_mu_scale_f0=1.0
friction_mu_scale_r0=1.0
friction_mu_scale_f_min=0.4
friction_mu_scale_f_max=1.3
friction_mu_scale_r_min=0.4
friction_mu_scale_r_max=1.3

# Make braking behave physically near standstill: friction authority fades as vx -> 0
friction_mu_speed_dependent=true
friction_mu_speed_vscale_mps=1.0

# Prevent unphysical reverse-speed drift in open-loop braking tests
model_clamp_vx_nonnegative=true

# Open space: do NOT set map_file / obstacles_csv

# Start state [x y psi vx vy r]
start_x=0.0
start_y=0.0
start_psi=0.0
start_vx=10.0
start_vy=0.0
start_r=0.0

# Control bounds
delta_max=0.5235987756
sfx_max=0.05

# Select scenarios
validate_scenarios=accel_straight,brake_straight,turn_constant_steer,turn_sine_steer,mu_drop_sine_steer

# Scenario tuning
validate_t_accel=6.0
validate_t_brake=4.0
validate_t_turn=8.0
validate_t_sine=10.0
validate_t_mu_drop=10.0

validate_accel_sfx=0.04
validate_brake_sfx=-0.04
validate_cruise_sfx=0.01

validate_steer_const_rad=0.1745329252
validate_steer_sine_amp_rad=0.1396263402
validate_steer_sine_hz=0.25

# Friction drop scenario: 1.0 -> 0.6 linearly over validate_t_mu_drop
validate_mu_f_start=1.0
validate_mu_r_start=1.0
validate_mu_f_end=0.6
validate_mu_r_end=0.6

# Very wide feasibility bounds for open-space testing
validate_xmin_x=-1000000
validate_xmin_y=-1000000
validate_xmin_psi=-1000000
validate_xmin_vx=-1000000
validate_xmin_vy=-1000000
validate_xmin_r=-1000000
validate_xmax_x=1000000
validate_xmax_y=1000000
validate_xmax_psi=1000000
validate_xmax_vx=1000000
validate_xmax_vy=1000000
validate_xmax_r=1000000

# Plotting: car footprint (used by cpp/validation/plot_open_loop.py)
viz_car_width_m=1.90
viz_wheel_length_m=0.60
viz_car_poses_per_traj=5
